
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    // Aturan untuk koleksi 'animes'
    match /animes/{animeId} {
      // Siapa saja yang sudah login dapat membaca (get, list) data anime.
      allow read: if request.auth != null;
      
      // Hanya pengguna yang memiliki custom claim 'admin' bernilai true
      // yang dapat membuat, mengubah, atau menghapus data anime.
      allow write: if request.auth.token.admin == true;
    }

    // Anda bisa menambahkan aturan untuk koleksi lain di sini.
    // Contoh: Aturan untuk data pengguna
    // match /users/{userId} {
    //   allow read: if request.auth != null;
    //   allow write: if request.auth.uid == userId; // Pengguna hanya bisa mengubah datanya sendiri
    // }
  }
}
